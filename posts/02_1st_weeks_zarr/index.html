<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>&#183; LoÃ¯c Houpert</title><meta name=title content=" &#183; LoÃ¯c Houpert"><script type=text/javascript src=https://lhoupert.fr/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=https://lhoupert.fr/css/main.bundle.min.1e6a2b733c26a6dfe2d4844e4cea980e94978d8f6316edb1100d3ce45c134e61.css integrity="sha256-Hmorczwmpt/i1IROTOqYDpSXjY9jFu2xEA085FwTTmE="><script defer type=text/javascript id=script-bundle src=https://lhoupert.fr/js/main.bundle.min.78321dc7325e992aab5e6b386ec514dda3a169edf073cbd6ca5b2857eddcef97.js integrity="sha256-eDIdxzJemSqrXms4bsUU3aOhae3wc8vWylsoV+3c75c=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      
        
      
    "><link rel=canonical href=https://lhoupert.fr/posts/02_1st_weeks_zarr/><link rel=alternate type=application/rss+xml href=https://lhoupert.fr/posts/02_1st_weeks_zarr/index.xml title="LoÃ¯c Houpert"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://lhoupert.fr/posts/02_1st_weeks_zarr/"><meta property="og:site_name" content="LoÃ¯c Houpert"><meta property="og:title" content="LoÃ¯c Houpert"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="LoÃ¯c Houpert"><meta name=author content="LoÃ¯c Houpert"><link href=https://www.linkedin.com/in/lo%C3%AFc-h-29232037/ rel=me><link href=https://github.com/lhoupert rel=me><link href=https://gitlab.com/loic.houpert rel=me><link href="https://scholar.google.com/citations?user=10K7fIYAAAAJ&amp;hl=en" rel=me><link href=https://stackoverflow.com/users/13890678/lhoupert rel=me><link href=mailto:loic@lhoupert.fr rel=me></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="z-40 flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>LoÃ¯c Houpert</a></div><label id=menu-button for=menu-controller class="block sm:hidden"><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"><ul class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class="group mb-1"><a href=/about/ title="About Me" onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1"><a href=/posts/ title=Blog onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1"><a href=/cv/ title="My Professional Journey" onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">CV</span></a></li><li class="group mb-1"><a href=/skills/ title="My Technical Evolution" onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Skills</span></a></li><li class="group mb-1"><button id=appearance-switcher-1 type=button aria-label="appearance switcher">
<span class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden" title="Switch to dark appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span>
</span><span class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline" title="Switch to light appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></span></button></li><li class="group mb-1"><button id=search-button-1 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></div></label><ul class="hidden list-none flex-row text-end sm:flex"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/about/ title="About Me"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/ title=Blog><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/cv/ title="My Professional Journey"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">CV</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/skills/ title="My Technical Evolution"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Skills</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=appearance-switcher-2 type=button aria-label="appearance switcher">
<span class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden" title="Switch to dark appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span>
</span><span class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline" title="Switch to light appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></span></button></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-2 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><header><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral"></h1></header><section class="mt-0 prose flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-h-0 min-w-0 max-w-prose grow"><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_2686c7d6780e3a66.webp 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_7429115d93ab1929.webp 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_ce58e7bfbcfa8f85.webp 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_58bd600846fac575.webp 1320w" sizes=100vw type=image/webp><img width=3940 height=2207 class="mx-auto my-0 rounded-md" alt="Ocean observing systems including moored buoys and profiling floats" loading=lazy decoding=async src=https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_693c2c465c7461c7.jpg srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_b730a887c9aa9f6d.jpg 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_693c2c465c7461c7.jpg 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_fa7f738693d990fd.jpg 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/ocean-observing-network_hu_13f0fc87c57fea0f.jpg 1320w" sizes=100vw></picture><figcaption class=text-center>Ocean observing systems including moored buoys and profiling floats. Source: <a href=https://www.frontiersin.org/journals/marine-science/articles/10.3389/fmars.2020.00697/full target=_blank rel=noreferrer>Whitt et. al, Future Vision for Autonomous Ocean Observations, Frontiers in Marine Science, 2020</a></figcaption></figure></p><p>For a big part of my career, I built data processing systems for oceanographic observations. I designed pipelines that ingested data from underwater buoys, research vessels, and satellite instruments. Working with observational data at scale, I developed strong opinions about data formats. <a href=https://www.ogc.org/standards/netcdf/ target=_blank rel=noreferrer>NetCDF</a> became my default because it is a robust, well-documented format that handles multi-dimensional scientific arrays with complete metadata.</p><p>So when I transitioned to cloud engineering and <a href=https://lhoupert.fr/posts/01_joining_development_seed/ target=_blank rel=noreferrer>started working with Earth observation data infrastructure</a>, I made what seemed like a reasonable assumption: Zarr would be NetCDF for the cloud. Same conceptual model, just optimized for object storage instead of POSIX filesystems.</p><p>That assumption lasted about a week ðŸ˜…</p><h2 id=what-actually-happened class="relative group">What Actually Happened <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#what-actually-happened aria-label=Anchor>#</a></span></h2><p>I started my Zarr learning with Lindsey Nield&rsquo;s excellent explainer <a href=https://earthmover.io/blog/what-is-zarr/ target=_blank rel=noreferrer>&ldquo;What is Zarr?&rdquo;</a> on the Earthmover blog. It&rsquo;s a really nice introduction, very well written, that presents all the key points about Zarr. The article compared Zarr to other file formats, talked about chunks and compression, showed storage layouts. It all made sense on paper, but something in my understanding was still missing. I couldn&rsquo;t quite connect the technical details to why everyone seemed so enthusiastic about it.</p><p>Then I read Davis Bennett&rsquo;s presentation from the resources published in the <a href=https://cloudnativegeo.org/blog/2025/11/2025-zarr-summit-recap/ target=_blank rel=noreferrer>2025 Zarr Summit recap</a>. In his talk <a href="https://docs.google.com/presentation/d/1QB-EKo1qFqIreqehowBmz5kFJsUQCgYxprgrVabF35Y/edit?usp=sharing" target=_blank rel=noreferrer>&ldquo;What is Zarr (and what isn&rsquo;t it)&rdquo;</a>, Davis explains something that reframed completely how I understood Zarr: <strong>Zarr is an API or protocol, not a conventional file format</strong>. For my scientist friends who are struggling in grasping the meaning of an API, it can be summarized as <a href=https://github.com/resources/articles/what-is-an-api#apis-at-github target=_blank rel=noreferrer>a set of rules and definitions that let software systems communicate with each other</a>.</p><p>I had been approaching Zarr like it was a container format with some clever cloud optimizations. But I had been missing the point&mldr; Zarr is fundamentally about storing arrays as collections of named chunks. Each chunk gets a unique identifier (a key), and when you request specific data, for example, reading a time slice or spatial subset,Zarr figures out which chunk keys to fetch. It doesn&rsquo;t care where those chunks actually live. The keys can point to files on disk, objects in <a href=https://cloud.google.com/learn/what-is-object-storage target=_blank rel=noreferrer>cloud object storage</a>, or entries in a database.</p><p>This is an important distinction compared to traditional file formats, and it completely changed how I think about designing data pipelines.</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_f726bc5284319421.webp 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_20028f4c874578de.webp 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_e53400967c87323f.webp 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_ed32ed9ab1e809c.webp 1320w" sizes=100vw type=image/webp><img width=2081 height=1695 class="mx-auto my-0 rounded-md" alt="Zarr hierarchical structure showing groups and arrays" loading=lazy decoding=async src=https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_749d0cfb1eff8545.png srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_15a46f4bc07c7b4c.png 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_749d0cfb1eff8545.png 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_c82d98487d4e3aa1.png 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/zarr-hierarchy-diagram_hu_9673455696da0630.png 1320w" sizes=100vw></picture><figcaption class=text-center>Zarr hierarchical structure showing groups and arrays. Source: <a href=https://zarr-specs.readthedocs.io/en/latest/ target=_blank rel=noreferrer>Zarr Documentation</a></figcaption></figure></p><h2 id=an-oceanographic-sensor-network-analogy class="relative group">An Oceanographic Sensor Network Analogy <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#an-oceanographic-sensor-network-analogy aria-label=Anchor>#</a></span></h2><p>In my oceanographic work, we operated networks of underwater instruments. Autonomous gliders, moored buoys, profiling floats, each collecting continuous measurements. When analysing large amount of data, I learned quickly that &ldquo;download everything first, then analyze&rdquo; doesn&rsquo;t scale well. At that time I wished there was an efficient way to support selective queries (give me temperature profiles between these dates at these depths), lazy evaluation (don&rsquo;t fetch data you won&rsquo;t use), distributed access (multiple researchers querying different aspects simultaneously), and partial reads (get monthly averages at a specific location without downloading daily sample of an entire region).</p><p>Zarr&rsquo;s key-value architecture enables exactly these patterns for array data.</p><h2 id=different-ways-to-access-data class="relative group">Different Ways to Access Data <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#different-ways-to-access-data aria-label=Anchor>#</a></span></h2><p>Working through one of the <a href=https://eopf-toolkit.github.io/eopf-101/22_zarr_structure_S1GRD.html target=_blank rel=noreferrer>EOPF tutorial on Zarr</a> (Earth Observation Processing Framework) changed how I was thinking about the problem. The tutorial shows different ways to access the same Sentinel-1 radar data stored in Zarr format. At first this felt like API complexity. Then I realized each pattern represents a different mental model, and both are equally valid depending on your workflow.</p><p>Here&rsquo;s the first approach, opening the entire hierarchical structure:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>xarray</span> <span class=k>as</span> <span class=nn>xr</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the complete data tree</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dt</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_datatree</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>engine</span><span class=o>=</span><span class=s1>&#39;zarr&#39;</span><span class=p>,</span> <span class=n>chunks</span><span class=o>=</span><span class=p>{})</span>
</span></span></code></pre></div><p>This gives you the full organizational structure. Groups, subgroups, the whole hierarchy. It&rsquo;s exploratory. You&rsquo;re getting oriented in unfamiliar data. In NetCDF terms, this would be like opening a file and running <code>ncdump -h</code> to see what variables exist and how they&rsquo;re organized.</p><p>The second approach jumps directly to a specific group. You can do it in two different ways:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Access a specific measurement group directly</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ds</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_dataset</span><span class=p>(</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>engine</span><span class=o>=</span><span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>group</span><span class=o>=</span><span class=s1>&#39;measurements/VV&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>chunks</span><span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Navigate to a group, then convert to a dataset</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ds</span> <span class=o>=</span> <span class=n>dt</span><span class=p>[</span><span class=s2>&#34;measurements/VV&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>to_dataset</span><span class=p>()</span>
</span></span></code></pre></div><p>You already know what you want. You know the data structure. Just get that specific variable without loading anything else. This is the &ldquo;I have worked with this dataset before&rdquo; pattern. In my OSNAP mooring array processing, this would be equivalent to querying just the current meter data from a specific mooring location without pulling temperature and salinity measurements from all the other moorings across the North Atlantic.</p><p>Something crucial about how both of these are accessing data: there is no download step, it is over HTTP from a remote URL. No local caching is needed before you start working. Zarr figures out which chunks to fetch based on what you are actually requesting.</p><p>The <code>chunks={}</code> parameter preserves the original chunking from the metadata. The idea behind it is to respect the intent of whoever organized the data. They chose those chunk dimensions for a reason, probably based on common access patterns, and using <code>chunks={}</code> means &ldquo;trust those decisions&rdquo;.</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_c4ce69f9386c5196.webp 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_7b4ac1b10273b967.webp 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_dec6d6516f8de16b.webp 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_b30f3cabad3b631e.webp 1320w" sizes=100vw type=image/webp><img width=2560 height=1334 class="mx-auto my-0 rounded-md" alt="Schematic of the OSNAP mooring array" loading=lazy decoding=async src=https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_865bceff800b6ac9.jpg srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_23cdb9967848f0c9.jpg 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_865bceff800b6ac9.jpg 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_860bb1bdcb9fce6b.jpg 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/osnap_array_schematic_hu_b5342ae823291e6a.jpg 1320w" sizes=100vw></picture><figcaption class=text-center>Schematic of the OSNAP mooring array. Source: <a href=https://www.o-snap.org/wp-content/uploads/2013/12/osnap_array_schematic_20160401-1024x534.jpg.webp target=_blank rel=noreferrer>OSNAP website</a></figcaption></figure></p><h2 id=chunks-as-architecture-not-optimization class="relative group">Chunks as Architecture, Not Optimization <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#chunks-as-architecture-not-optimization aria-label=Anchor>#</a></span></h2><p>In NetCDF, chunks are a performance tuning option. You can use them to optimize read patterns, or you can ignore them entirely. The format still works.</p><p>In Zarr, chunks define the data structure itself. Davis&rsquo;s <a href="https://docs.google.com/presentation/d/1mFJrOplbbnzAcjXR_n5l4kT-nEgI8c2v-iwtxIL51QY/edit?slide=id.p" target=_blank rel=noreferrer>other presentation</a> makes this clear: Zarr stores large arrays as separate sub-arrays. Each chunk is an independent unit that can be read, written, or compressed separately. The format is lazy: it only creates data chunks when values are written.</p><p>This maps very well to distributed scientific workflows. When I was processing data from the OSNAP mooring array, we didn&rsquo;t collect uniform spatial grids across the North Atlantic. We had moorings at specific locations spanning from Labrador to Scotland, each equipped with multiple instruments at different depths measuring temperature, salinity, and velocity. Each mooring was its own data unit, each sensor type its own stream. The observational data was inherently chunked by location, by instrument, by depth.</p><p>Zarr formalizes this approach. Chunks themselves become the fundamental units and the chunking strategy can become an expression of your data&rsquo;s structure and your access patterns.</p><h2 id=what-this-changes class="relative group">What This Changes <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#what-this-changes aria-label=Anchor>#</a></span></h2><p>The remote access pattern from the EOPF tutorials reflects how Zarr fundamentally works. You point to a URL, describe what you want, and the system fetches the relevant chunks. There is no need to download the data before running a processing workflow, or manage local copies of the data.</p><p>For Earth observation workflows, this matters a lot! Satellite data archives are massive. A single Sentinel-1 scene can be gigabytes but an analysis might only need a specific polarization, a particular time range, and/or a subset of the spatial extent. Similarly, climate model outputs can be terabytes spanning decades of simulations across global grids. A researcher studying regional precipitation patterns doesn&rsquo;t need global temperature data at every vertical level! While NetCDF-4 with OPeNDAP servers can enable remote subsetting, it requires specialized server infrastructure and sequential access patterns. Zarr makes this pattern native and works directly with standard object storage over HTTP. You fetch only the chunks that matter for your specific query, no special middleware is required. Plus, Zarr&rsquo;s independent chunks enable parallel readsâ€”multiple chunks can be fetched simultaneously, dramatically improving performance compared to sequential file access from OPenNDAP!</p><p>I think that is why everyone building cloud-native geospatial infrastructure is converging on Zarr. It provides both a performance gain and a better underlying data model to work with Earth observation data.</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_695d2d79ace482fd.webp 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_57c791671cb8b375.webp 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_a40c4f47c8ad1721.webp 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_6cab2acf05d55e53.webp 1320w" sizes=100vw type=image/webp><img width=1381 height=776 class="mx-auto my-0 rounded-md" alt="Copernicus Sentinel-1 satellite" loading=lazy decoding=async src=https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_2f3e9dfbddceea9a.jpg srcset="https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_17aa26325b7d4123.jpg 330w,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_2f3e9dfbddceea9a.jpg 660w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_f18cfd43e34649bf.jpg 1024w
,https://lhoupert.fr/posts/02_1st_weeks_zarr/sentinel-1-satellite_hu_d6dc80070b264780.jpg 1320w" sizes=100vw></picture><figcaption class=text-center>Copernicus Sentinel-1 satellite. Source: <a href=https://www.copernicus.eu/en/news/news/observer-celebrating-decade-copernicus-sentinel-1 target=_blank rel=noreferrer>Copernicus</a></figcaption></figure></p><h2 id=what-im-still-learning class="relative group">What I&rsquo;m Still Learning <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#what-im-still-learning aria-label=Anchor>#</a></span></h2><p>I am in my 2nd week into understanding Zarr, and there is still plenty I don&rsquo;t fully grasp! The differences between Zarr V2 and V3, differences between Zarr and GeoZarr, differences between Zarr conventions and Zarr extensions and how they relate to the core specification, or details of chunk encoding and compression options. But the fundamental mental model shift has happened: I have stopped thinking about files and have started thinking about array protocols over key-value stores.</p><p>If you are coming from NetCDF, this requires unlearning some assumptions (file handles, sequential reads, monolithic containers). These concepts don&rsquo;t map cleanly to Zarr because I think Zarr isn&rsquo;t trying to be a better file format but it operates on different principles.</p><p>In my opinion, this difference should matter for scientists and data engineers building systems to handle large-scale Earth observation. There is definitely a learning curve, but I think the mental model shift is worth it, especially as Zarr is becoming one of <a href=https://www.dkrz.de/en/communication/news-archive/stac-zarr-summit2025 target=_blank rel=noreferrer>data standard to work with climate data at the Exascale</a>.</p></div></section><section class="prose mt-10 dark:prose-invert"><p class="border-t py-8"><em>There's no articles to list here yet.</em></p></section></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2025
LoÃ¯c Houpert</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://lhoupert.fr/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>